ğŸ§  Modelo Conceitual - DescriÃ§Ã£o Geral
ğŸ¯ Regras de NegÃ³cio Aplicadas:
Uma conta estÃ¡ associada a um Ãºnico cliente, que pode ser PF ou PJ, mas nunca ambos.

Uma conta pode ter vÃ¡rias formas de pagamento associadas.

Uma entrega tem status (ex: "Pendente", "Enviado", "Entregue") e um cÃ³digo de rastreio Ãºnico.

ğŸ”— Entidades e Relacionamentos
1. Conta
id_conta (PK)

data_criacao

tipo_cliente (enum: 'PF', 'PJ') âœ… usado para garantir exclusividade

2. Cliente_PF
id_conta (PK, FK â†’ Conta)

nome

cpf

data_nascimento

3. Cliente_PJ
id_conta (PK, FK â†’ Conta)

razao_social

cnpj

inscricao_estadual

ğŸ” Regra de exclusividade: Um id_conta deve existir em apenas uma das tabelas Cliente_PF ou Cliente_PJ.

4. Pagamento
id_pagamento (PK)

id_conta (FK â†’ Conta)

tipo_pagamento (ex: 'CartÃ£o', 'Pix', 'Boleto', etc.)

detalhes (ex: Ãºltimos dÃ­gitos do cartÃ£o)

ğŸ’³ Uma conta pode ter mÃºltiplas formas de pagamento.

5. Entrega
id_entrega (PK)

id_conta (FK â†’ Conta)

status (ex: 'pendente', 'em trÃ¢nsito', 'entregue', etc.)

codigo_rastreio (Ãºnico)

data_prevista

data_entrega

ğŸšš LigaÃ§Ã£o direta com a conta para saber quem fez o pedido.

ğŸ“˜ Exemplo de NotaÃ§Ã£o Entidade-Relacionamento (ER) â€“ Texto
scss
Copiar
Editar
[Conta] â†(1:1)â†’ [Cliente_PF]
        â†(1:1)â†’ [Cliente_PJ]
        â†(1:N)â†’ [Pagamento]
        â†(1:N)â†’ [Entrega]
ğŸ› ï¸ Regras de integridade a considerar:
Integridade Exclusiva:

Uma trigger, enum ou lÃ³gica de aplicaÃ§Ã£o deve garantir que uma conta tenha ou um PF ou um PJ, nunca ambos.

Relacionamentos:

Pagamentos e Entregas se relacionam diretamente com Conta via id_conta.

âœ… Resumo das Entidades (tabela)
Entidade	Chave PrimÃ¡ria	Atributos principais
Conta	id_conta	data_criacao, tipo_cliente ('PF' ou 'PJ')
Cliente_PF	id_conta (FK + PK)	nome, cpf, data_nascimento
Cliente_PJ	id_conta (FK + PK)	razao_social, cnpj, inscricao_estadual
Pagamento	id_pagamento	tipo_pagamento, detalhes, id_conta (FK)
Entrega	id_entrega	status, codigo_rastreio (Ãºnico), id_conta (FK)
